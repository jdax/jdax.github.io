<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta content="Dax Murray" name="Dax Murray">
    <meta name="description" content="Dax Murray. Queer Fantasy and Science Fiction Author. Writer of cute lgbtq polyamory stories. Bringing you lady knights and magical rites. High Level Cat Appreciator. S-Rank Snake Lover." />
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

    <!-- Google -->
    <meta name="google-site-verification" content="agmgf_qoLfP5XFVfQDpx8tPRS4bTsU9UMdG7uloiQZA" />

    <!-- Facebook -->
    <meta property="og:title" content="Dax Murray" />
    <meta property="og:description" content="Dax Murray. Queer Fantasy and Science Fiction Author. Writer of cute lgbtq polyamory stories. Bringing you lady knights and magical rites. High Level Cat Appreciator. S-Rank Snake Lover." />
    <meta property="og:url" content="http://www.daxmurray.com/" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Dax Murray" />

    <!-- TWITTER -->
    <meta name="twitter:card" content="summary_large_image" >
    <meta name="twitter:site" content="@DaxAeterna">
    <meta name="twitter:site:id" content="">
    <meta name="twitter:creator" content="@DaxAeterna">
    <meta name="twitter:title" content="Dax Murray">
    <meta name="twitter:description" content="Dax Murray. Queer Fantasy and Science Fiction Author. Writer of cute lgbtq polyamory stories. Bringing you lady knights and magical rites. High Level Cat Appreciator. S-Rank Snake Lover.">
    <meta name="twitter:image" content="/images/profile.jpg">

    <link href='https://fonts.googleapis.com/css?family=PT+Serif:700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lato:400,300italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" crossorigin="anonymous">
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-min.css">
    <!--<![endif]-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <title>Dax Murray : - Adding and enforcing SSL / HTTPS  to Your Custom Domain Github Pages for free</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />
    <link href="/stylesheets/application.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <div id="main" role="main">
      <div class="header">
  <div class="header-text">
<div class="pure-g">
  <div class="pure-u-1-4"></div>
  <div class="pure-u-1-2">
    <a href="/"><h1><span class="ornamental"> < </span>Dax Murray<span class="ornamental"> > </span><div class="ornamental ornamental-margin"> ( </div></h1></a> <p>Queer Fantasy and Science Fiction Author.</p> <p></p>
    <a href="http://www.twitter.com/daxaeterna" target="_blank"><i class="fa fa-twitter">  </i></a>
    <a href="http://www.github.com/jdax" target="_blank"><i class="fa fa-github"></i></a>
    <a href="http://www.instagram.com/daxaeterna" target="_blank"><i class="fa fa-instagram">  </i></a>
    <a href="http://www.twitter.com/daxscats" target="_blank"><i class="fa fa-twitter">  </i></a>
  </div>
</div>
<div class="pure-g">
  <div class="pure-u-1-4"></div>
  <div class="pure-u-1-2">
    <span class="ornamental"> < </span>
    <a href="/about_me">About</a> |
    <a href="/services">Services</a> |
    <a href="/blog">Blog</a> |
    <a href="/books">Books</a> |
    <a href="http://dax.cat">My cats</a> |
    <a href="http://dax.codes">CV</a>
    <span class="ornamental"> > </span>
  </div>
</div>
</div>
</div>
<div class="divider"></div>
</div>

        <div>
              <div class="blog-body">
      <article>
        <div class="article">
          <h1 class="article--title">Adding and enforcing SSL / HTTPS  to Your Custom Domain Github Pages for free </h1>
          <!-- use article.summary(250) if you have Nokogiri available to show just
               the first 250 characters -->
          <div class="article--date">Thu 05/03/18</div><br/>
          <div class="article--text">
            <p>My dayjob involves writing a lot of backend code, and I have written most of the code used on this website. I host it on GitHub Pages with a custom domain. Until May 1, I could not use HTTPS on here. It wasn't such a con when I first started this, but Google now prioritizes SSL encrypted sites and gives big huge warnings on many browsers about forms on non-HTTPS sites. So this meant either using something like CloudFlare CDN or moving to something like Netlify. As I am sure you understand, this site is mostly held together with shoestring and paperclips and do you think I want to spend a day sorting through DNS records for a domain I haven't touched in…a long time?</p>

<p>But GitHub has announced you can now have HTTPS enforced on custom domains! However, getting it to work took the better part of a very late night. Their docs on it aren't very clear. It should be straightforward as clicking "Enforce HTTPS" in the repo settings for repos and pages made after today, but if you have an older one you want to turn HTTPS on for, follow this guide!</p>

<p>1.) Go to the settings for the repo you are using. There's a gear symbol, and clicking on it should take you there. Towards the middle is the settings for GitHub Pages. There's a form input called "Custom Domain." This should be where you've already entered your custom domain. You want to delete it. Yes, delete it. Empty the text field and hit "Save". I know, scary. Don't worry, we will add it back later.</p>

<p>2.) Right below that is a checkbox labeled "Enforce HTTPS". It will have been grayed out and unclickable before you deleted the custom domain. Now that it isn't, check the box!</p>

<p>3.) The fancy new HTTPS comes with new IP addresses. So you want to go to your DNS provider and update the IPs. The old ones still work, but you can't get a cool SSL cert with them. I tried. <a href="https://help.github.com/articles/setting-up-an-apex-domain/#configuring-a-records-with-your-dns-provider">You can find the new IP addresses here</a>. Make sure to add them all as <code>A</code> with a host name of <code>@</code>.</p>

<p>4.) Wait. You're gonna be waiting a bit. You are waiting for two things: a.) Your GH Page to get an SSL certificate, b.) the new IP addresses in your DNS to propagate. I periodically checked with a DNS propagation tracker and when a decent amount of them had the new IP addresses, I moved on to the next step.</p>

<p>5.) Add back in your custom domain on your GH Pages settings and hit 'save'. If everything worked, the "Enforce HTTPS" setting should remain checked! If something is wrong, you might get the error "Not yet available for your site because the certificate has not finished being issued." This error means you didn't wait long enough for GH to create your SSL cert. Delete the custom domain and wait some more. If it goes back to being grayed out, it means you didn't wait long enough for the new IPs to propagate. Delete the custom domain from your GH pages and wait some more.</p>

<p>That's it!</p>

          </div>
        </div>
      </article>
    </div>

        </div>
    </div>
    <div>
      <footer>
  <p>© Dax Murray 2012-2018. </p>
    <p class="copyright-explaination">Unauthorized use and/or duplication of this material without express and written permission from this blog’s author and/or owner is strictly prohibited.</p>
    <p class="copyright-explaination">Excerpts and links may be used, provided that full and clear credit is given to Dax Murray with appropriate and specific direction to the original content.</p>
</footer>
    </div>
  </body>
</html>
